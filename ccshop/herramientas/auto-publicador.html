
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Publicador Autom√°tico - MULTIPA√çS MEGA</title>
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'><defs><linearGradient id='text' x1='0%' y1='0%' x2='100%' y2='100%'><stop offset='0%' stop-color='%23ff0000'/><stop offset='100%' stop-color='%23cc0000'/></linearGradient></defs><path d='M8 8 L24 8 L24 24 L8 24 Z' transform='rotate(45 16 16)' fill='none' stroke='%23ff0000' stroke-width='1.5'/><text x='12' y='20' text-anchor='middle' fill='url(%23text)' font-family='Arial' font-weight='bold' font-size='12'>C</text><text x='20' y='20' text-anchor='middle' fill='url(%23text)' font-family='Arial' font-weight='bold' font-size='12'>C</text></svg>">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background: #111; color: #fff; font-family: Arial; padding: 20px; }
        .container { max-width: 700px; margin: 0 auto; background: rgba(0,0,0,0.8); padding: 20px; border-radius: 15px; }
        h1 { text-align: center; margin-bottom: 20px; color: #00c853; }
        
        .country-selector { margin-bottom: 20px; }
        .country-selector select { 
            width: 100%; 
            padding: 12px; 
            border-radius: 8px; 
            background: #222; 
            color: white; 
            border: 1px solid #444;
            font-size: 16px;
        }
        
        .stats { 
            background: #333; 
            padding: 15px; 
            border-radius: 8px; 
            margin-bottom: 20px;
            text-align: center;
        }
        
        .btn-group { display: flex; gap: 10px; margin-bottom: 15px; }
        button { flex: 1; padding: 15px; border: none; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; }
        .btn-primary { background: linear-gradient(135deg, #667eea, #764ba2); color: white; }
        .btn-success { background: linear-gradient(135deg, #00c853, #00a86b); color: white; }
        .btn-warning { background: linear-gradient(135deg, #ffa726, #ff9800); color: white; }
        .btn-danger { background: linear-gradient(135deg, #ff4757, #ff3742); color: white; }
        .back-btn { background: #333; color: white; margin-top: 20px; width: 100%; }
        
        .result { margin-top: 15px; padding: 10px; border-radius: 5px; text-align: center; white-space: pre-line; }
        .success { background: #00c853; }
        .error { background: #ff4757; }
        .info { color: #ccc; font-size: 12px; margin-top: 5px; }
        
        .debug { background: #333; padding: 10px; margin-top: 10px; border-radius: 5px; font-size: 12px; max-height: 300px; overflow-y: auto; }
        .progress-bar { 
            width: 100%; 
            background: #333; 
            border-radius: 5px; 
            margin-top: 10px;
            overflow: hidden;
        }
        .progress-fill { 
            height: 20px; 
            background: linear-gradient(135deg, #00c853, #00a86b); 
            width: 0%; 
            transition: width 0.3s;
            text-align: center;
            line-height: 20px;
            font-size: 12px;
            color: white;
        }
        
        /* Estilos para la verificaci√≥n de admin */
        .admin-check { 
            background: #222; 
            padding: 20px; 
            border-radius: 10px; 
            text-align: center; 
            margin-bottom: 20px;
            border: 2px solid #00c853;
        }
        .admin-verified { 
            background: linear-gradient(135deg, #00c853, #009624);
            color: white;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 15px;
        }
    </style>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
</head>
<body>
    <div class="container">
        <!-- Verificaci√≥n de Admin -->
        <div id="adminCheck" class="admin-check">
            <h2>üîí Verificando Acceso de Administrador...</h2>
            <p>Verificando credenciales para johndoechmod777@gmail.com</p>
        </div>
        
        <div id="adminPanel" style="display: none;">
            <h1>ü§ñ Publicador Autom√°tico - MULTIPA√çS MEGA</h1>
            
            <div class="admin-verified">
                ‚úÖ ACCESO ADMIN CONCEDIDO - johndoechmod777@gmail.com
            </div>
            
            <div class="country-selector">
                <select id="selectPais" onchange="actualizarStats()">
                    <option value="ecuador">üá™üá® Ecuador</option>
                    <option value="chile">üá®üá± Chile</option>
                    <option value="brazil">üáßüá∑ Brazil</option>
                    <option value="mexico">üá≤üáΩ M√©xico</option>
                    <option value="usa">üá∫üá∏ USA</option>
                    <option value="china">üá®üá≥ China</option>
                    <option value="india">üáÆüá≥ India</option>
                    <option value="panama">üáµüá¶ Panam√°</option>
                    <option value="costarica">üá®üá∑ Costa Rica</option>
                    <option value="honduras">üá≠üá≥ Honduras</option>
                    <option value="puertorico">üáµüá∑ Puerto Rico</option>
                </select>
            </div>
            
            <div class="stats" id="statsDiv">
                <div><strong>Combinaciones Disponibles:</strong> <span id="statsCombo">0</span></div>
                <div><strong>BINs:</strong> <span id="statsBins">0</span> | <strong>Bancos:</strong> <span id="statsBancos">0</span></div>
                <div><strong>Nombres √önicos:</strong> <span id="statsNombres">0</span></div>
            </div>
            
            <div class="btn-group">
                <button class="btn-primary" onclick="publicarTarjetaUnica()">üé≤ Publicar 1 Tarjeta</button>
                <button class="btn-success" onclick="publicarLote(10)">üì¶ Lote de 10</button>
            </div>
            
            <div class="btn-group">
                <button class="btn-warning" onclick="publicarLote(25)">üöÄ Lote de 25</button>
                <button class="btn-warning" onclick="publicarLote(50)">üí• Lote de 50</button>
            </div>
            
            <div class="btn-group">
                <button class="btn-warning" onclick="publicarLote(100)">‚ö° MEGA Lote 100</button>
                <button class="btn-warning" onclick="publicarLote(500)">üî• ULTRA Lote 500</button>
            </div>
            
            <button class="btn-danger" onclick="limpiarTarjetas()">üóëÔ∏è Limpiar Pa√≠s Seleccionado</button>
            <div class="info">Elimina TODAS las tarjetas del pa√≠s actual</div>
            
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill">0%</div>
            </div>
            
            <!-- BOT√ìN CORREGIDO: Ahora va a tienda.html -->
            <button class="back-btn" onclick="location.href='tienda.html'">‚Üê Volver a Tienda</button>
            
            <div id="resultado"></div>
            <div id="progreso"></div>
            <div id="debug" class="debug"></div>
        </div>
    </div>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyD2tvQjJzh7ukTSyxzIQSo7GSpz7L8z11I",
            authDomain: "ccshop-realtime.firebaseapp.com",
            projectId: "ccshop-realtime",
            storageBucket: "ccshop-realtime.appspot.com",
            messagingSenderId: "795626673305",
            appId: "1:795626673305:web:094dc265de1d4d1bc7d408"
        };
        
        // Inicializar Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        const auth = firebase.auth();

        // ‚úÖ VERIFICACI√ìN DE ADMINISTRADOR
        function verificarAdmin() {
            const adminCheck = document.getElementById('adminCheck');
            const adminPanel = document.getElementById('adminPanel');
            
            auth.onAuthStateChanged((user) => {
                if (user) {
                    // Usuario est√° logueado
                    if (user.email === "johndoechmod777@gmail.com") {
                        // ‚úÖ ES EL ADMIN CORRECTO
                        adminCheck.innerHTML = '<div class="admin-verified">‚úÖ ACCESO ADMIN AUTORIZADO - johndoechmod777@gmail.com</div>';
                        adminPanel.style.display = 'block';
                        adminCheck.style.display = 'none';
                        sistemaAntiRep.debugLog('üîì Acceso de administrador concedido');
                        inicializarSistema();
                    } else {
                        // ‚ùå NO ES EL ADMIN CORRECTO
                        adminCheck.innerHTML = `
                            <div style="background: #ff4757; color: white; padding: 15px; border-radius: 5px;">
                                ‚ùå ACCESO DENEGADO
                                <p>No tienes permisos de administrador</p>
                                <button onclick="location.href='../index.html'" style="background: #333; color: white; padding: 10px; border: none; border-radius: 5px; cursor: pointer;">
                                    salir 
                                </button>
                            </div>
                        `;
                    }
                } else {
                    // ‚ùå NO HAY USUARIO LOGUEADO
                    adminCheck.innerHTML = `
                        <div style="background: #ffa726; color: white; padding: 15px; border-radius: 5px;">
                            üîíACCESO BLOQUEADOüîí
                            <p>No eres administrador </p>
                            <button onclick="location.href='../index.html'" style="background: #333; color: white; padding: 10px; border: none; border-radius: 5px; cursor: pointer;">
                                salir
                            </button>
                        </div>
                    `;
                }
            });
        }

        // ‚úÖ INICIALIZAR SISTEMA ANTI-REPETICI√ìN AL CARGAR
        document.addEventListener('DOMContentLoaded', () => {
            // Primero verificar admin
            verificarAdmin();
        });

        function inicializarSistema() {
            // Inicializar sistema anti-repetici√≥n
            sistemaAntiRep.inicializar();
            
            // Inicializar stats
            actualizarStats();
            
            sistemaAntiRep.debugLog('üåç Sistema ANTIREPETICI√ìN para TARJETAS iniciado');
            sistemaAntiRep.debugLog('üéØ Garantiza 100% tarjetas √∫nicas por pa√≠s');
        }

        // ‚úÖ ACTUALIZAR FUNCI√ìN DE ESTAD√çSTICAS
        function actualizarStats() {
            const pais = getPaisSeleccionado();
            const config = getConfigPais();
            
            const totalBins = Object.values(config.bins).flat().length;
            const totalBancos = config.bancos.length;
            const totalPrecios = config.precios.length;
            const totalNombres = nombresPorPais[pais] ? nombresPorPais[pais].length : 115;
            
            const totalCombinaciones = totalBins * totalBancos * totalPrecios * 9000 * totalNombres;
            
            const statsCombo = document.getElementById('statsCombo');
            const statsBins = document.getElementById('statsBins');
            const statsBancos = document.getElementById('statsBancos');
            const statsNombres = document.getElementById('statsNombres');
            
            if (statsCombo) statsCombo.textContent = totalCombinaciones.toLocaleString();
            if (statsBins) statsBins.textContent = totalBins;
            if (statsBancos) statsBancos.textContent = totalBancos;
            if (statsNombres) statsNombres.textContent = totalNombres.toLocaleString();
            
            const stats = sistemaAntiRep.obtenerEstadisticas(pais);
            sistemaAntiRep.debugLog(`üìä ${pais.toUpperCase()}: ${totalCombinaciones.toLocaleString()} combinaciones disponibles - Cache: ${stats.tarjetasEnCache} tarjetas`);
        }

        // üîí SISTEMA ANTI-REPETICI√ìN CORREGIDO
        class SistemaAntiRepeticionTarjetas {
            constructor() {
                this.tarjetasUsadasPorPais = new Map();
                this.nombresUsadosPorPais = new Map();
                this.maxIntentos = 100;
                this.inicializado = false;
            }

            // ‚úÖ INICIALIZACI√ìN SEGURA
            inicializar() {
                if (this.inicializado) return;
                
                // Inicializar todos los pa√≠ses
                const paises = ['ecuador', 'chile', 'brazil', 'mexico', 'usa', 'china', 'india', 'panama', 'costarica', 'honduras', 'puertorico'];
                paises.forEach(pais => {
                    this.inicializarPais(pais);
                });
                
                this.inicializado = true;
                this.debugLog('‚úÖ Sistema anti-repetici√≥n inicializado correctamente');
            }

            debugLog(mensaje) {
                const debugDiv = document.getElementById('debug');
                if (debugDiv) {
                    const timestamp = new Date().toLocaleTimeString();
                    debugDiv.innerHTML += `[${timestamp}] ${mensaje}<br>`;
                    debugDiv.scrollTop = debugDiv.scrollHeight;
                }
                console.log(mensaje);
            }

            // Inicializar Maps para un pa√≠s
            inicializarPais(pais) {
                if (!this.tarjetasUsadasPorPais.has(pais)) {
                    this.tarjetasUsadasPorPais.set(pais, new Set());
                }
                if (!this.nombresUsadosPorPais.has(pais)) {
                    this.nombresUsadosPorPais.set(pais, new Set());
                }
            }

            // Limpiar cach√© de un pa√≠s
            limpiarCachePais(pais) {
                if (this.tarjetasUsadasPorPais.has(pais)) {
                    this.tarjetasUsadasPorPais.get(pais).clear();
                }
                if (this.nombresUsadosPorPais.has(pais)) {
                    this.nombresUsadosPorPais.get(pais).clear();
                }
                this.debugLog(`üîÑ Cach√© limpiado para ${pais.toUpperCase()}`);
            }

            // Verificar si tarjeta existe (Firebase + Cach√©)
            async tarjetaExiste(bin, final, pais) {
                this.inicializarPais(pais);
                const claveUnica = `${bin}_${final}`;
                const cacheTarjetas = this.tarjetasUsadasPorPais.get(pais);
                
                // ‚úÖ VERIFICACI√ìN SEGURA - usar has() de Set
                if (cacheTarjetas && cacheTarjetas.has(claveUnica)) {
                    return true;
                }
                
                // Buscar en Firebase
                try {
                    const snapshot = await db.collection("paises").doc(pais).collection("cards")
                        .where("bin", "==", bin)
                        .where("final", "==", final)
                        .limit(1)
                        .get();
                    
                    const existe = !snapshot.empty;
                    if (existe && cacheTarjetas) {
                        cacheTarjetas.add(claveUnica);
                        this.debugLog(`üí≥ Tarjeta ${bin}****${final} ya existe en Firebase`);
                    }
                    
                    return existe;
                } catch (error) {
                    this.debugLog(`‚ùå Error verificando en Firebase: ${error.message}`);
                    return false;
                }
            }

            // Generar nombre √∫nico por pa√≠s - VERSI√ìN CORREGIDA
            generarNombreUnico(pais) {
                this.inicializarPais(pais);
                const cacheNombres = this.nombresUsadosPorPais.get(pais);
                let intentos = 0;
                
                // ‚úÖ VERIFICACI√ìN SEGURA
                if (!cacheNombres) {
                    this.debugLog(`‚ùå Cache de nombres no inicializado para ${pais}`);
                    const nombresPais = nombresPorPais[pais] || nombresPorPais.ecuador;
                    return nombresPais[0] || "Titular Tarjeta";
                }
                
                while (intentos < this.maxIntentos) {
                    const nombresPais = nombresPorPais[pais] || nombresPorPais.ecuador;
                    const nombreCompleto = nombresPais[Math.floor(Math.random() * nombresPais.length)];
                    const claveNombre = nombreCompleto;
                    
                    if (!cacheNombres.has(claveNombre)) {
                        cacheNombres.add(claveNombre);
                        return nombreCompleto;
                    }
                    intentos++;
                }
                
                // Si hay muchos intentos, limpiar cach√© y generar uno con sufijo √∫nico
                if (intentos >= this.maxIntentos) {
                    this.debugLog(`üîÑ Limpiando cach√© de nombres para ${pais}`);
                    cacheNombres.clear();
                    const nombresPais = nombresPorPais[pais] || nombresPorPais.ecuador;
                    const nombreBase = nombresPais[0] || "Titular";
                    const sufijo = Math.random().toString(36).substring(2, 4).toUpperCase();
                    return `${nombreBase} ${sufijo}`;
                }
            }

            // Registrar tarjeta como usada
            registrarTarjetaUsada(bin, final, pais) {
                this.inicializarPais(pais);
                const claveUnica = `${bin}_${final}`;
                const cacheTarjetas = this.tarjetasUsadasPorPais.get(pais);
                
                // ‚úÖ VERIFICACI√ìN SEGURA
                if (cacheTarjetas) {
                    cacheTarjetas.add(claveUnica);
                }
            }

            // Obtener estad√≠sticas
            obtenerEstadisticas(pais) {
                this.inicializarPais(pais);
                const cacheTarjetas = this.tarjetasUsadasPorPais.get(pais);
                const cacheNombres = this.nombresUsadosPorPais.get(pais);
                
                return {
                    tarjetasEnCache: cacheTarjetas ? cacheTarjetas.size : 0,
                    nombresEnCache: cacheNombres ? cacheNombres.size : 0
                };
            }
        }

        // Instancia global
        const sistemaAntiRep = new SistemaAntiRepeticionTarjetas();

        // ‚ú® CONFIGURACI√ìN MEGA ULTRA EXTENDIDA POR PA√çS (50 BINs por marca, 50 bancos, 50 precios) ‚ú®
        const configPaises = {
            ecuador: {
                bins: {
                    visa: [
                        "453211", "453212", "453213", "453214", "453215", "453216", "453217", "453218", "453219", "453220",
                        "453221", "453222", "453223", "453224", "453225", "453226", "453227", "453228", "453229", "453230",
                        "453231", "453232", "453233", "453234", "453235", "453236", "453237", "453238", "453239", "453240",
                        "453241", "453242", "453243", "453244", "453245", "453246", "453247", "453248", "453249", "453250",
                        "453251", "453252", "453253", "453254", "453255", "453256", "453257", "453258", "453259", "453260"
                    ],
                    mastercard: [
                        "532111", "532112", "532113", "532114", "532115", "532116", "532117", "532118", "532119", "532120",
                        "532121", "532122", "532123", "532124", "532125", "532126", "532127", "532128", "532129", "532130",
                        "532131", "532132", "532133", "532134", "532135", "532136", "532137", "532138", "532139", "532140",
                        "532141", "532142", "532143", "532144", "532145", "532146", "532147", "532148", "532149", "532150",
                        "532151", "532152", "532153", "532154", "532155", "532156", "532157", "532158", "532159", "532160"
                    ]
                },
                bancos: [
                    "Banco Pichincha", "Banco del Pac√≠fico", "Banco Guayaquil", "Banco Bolivariano", "Produbanco",
                    "Banco Internacional", "Banco Solidario", "Banco Procredit", "Banco del Austro", "Banco de Machala",
                    "Banco Comercial de Manab√≠", "Banco Capital", "Banco de Loja", "Banco del Litoral", "Banco Coopnacional",
                    "Banco General Rumi√±ahui", "Banco D-MIRO", "Banco Diners Club", "Banco Amazonas", "Banco VisionFund",
                    "Banco Finca", "Banco de Ambato", "Banco Cofiec", "Banco Citibank Ecuador", "Banco Promerica Ecuador",
                    "Banco Delbank", "Banco MMG Bank", "Banco Desarrollo Pueblos", "Banco Aliado", "Banco Sudamericano",
                    "Banco Territorial", "Banco Comercio", "Banco Unibanco", "Banco Mutualista Pichincha", "Banco La Previsora",
                    "Banco Jard√≠n Azuayo", "Banco 29 de Octubre", "Banco Oscus", "Banco Andaluc√≠a", "Banco Pablo Mu√±oz Vega",
                    "Banco San Francisco", "Banco Cacpeco", "Banco Mushuc Runa", "Banco Cacpe Pastaza", "Banco Coopmego",
                    "Banco Atuntaqui", "Banco Tulc√°n", "Banco Riobamba", "Banco Calceta", "Banco Polic√≠a Nacional"
                ],
                precios: [
                    5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,
                    21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 32, 34, 35, 36, 38, 40,
                    42, 44, 45, 46, 48, 50, 52, 54, 55, 58, 60, 65, 70, 75, 80, 85, 90, 100
                ]
            },

            chile: {
                bins: {
                    visa: [
                        "451234", "451235", "451236", "451237", "451238", "451239", "451240", "451241", "451242", "451243",
                        "451244", "451245", "451246", "451247", "451248", "451249", "451250", "451251", "451252", "451253",
                        "451254", "451255", "451256", "451257", "451258", "451259", "451260", "451261", "451262", "451263",
                        "451264", "451265", "451266", "451267", "451268", "451269", "451270", "451271", "451272", "451273",
                        "451274", "451275", "451276", "451277", "451278", "451279", "451280", "451281", "451282", "451283"
                    ],
                    mastercard: [
                        "531234", "531235", "531236", "531237", "531238", "531239", "531240", "531241", "531242", "531243",
                        "531244", "531245", "531246", "531247", "531248", "531249", "531250", "531251", "531252", "531253",
                        "531254", "531255", "531256", "531257", "531258", "531259", "531260", "531261", "531262", "531263",
                        "531264", "531265", "531266", "531267", "531268", "531269", "531270", "531271", "531272", "531273",
                        "531274", "531275", "531276", "531277", "531278", "531279", "531280", "531281", "531282", "531283"
                    ]
                },
                bancos: [
                    "Banco de Chile", "Banco Estado", "Santander Chile", "Banco BCI", "Scotiabank Chile",
                    "Banco Security", "Banco Falabella", "Banco Ripley", "Banco Ita√∫ Chile", "Banco Edwards Citi",
                    "Banco Consorcio", "Banco Internacional", "Banco Paris", "Banco CrediChile", "Banco Desarrollo",
                    "Banco BICE", "Banco Condell", "Banco BBVA Chile", "Banco BTG Pactual", "Banco Rabobank",
                    "Banco do Brasil Chile", "Banco JP Morgan", "Banco Monex", "Banco Penta", "Banco Inversiones",
                    "Banco Boston", "HSBC Chile", "Banco Forum", "Banco Bilbao Vizcaya", "Banco Central",
                    "Banco Coopeuch", "Banco Corpbanca", "Banco Credichile", "Banco ABN Amro", "Banco Regional",
                    "Banco Sud Americano", "Banco Interamericano", "Banco Oriental", "Banco Conosur", "Banco Del Pac√≠fico",
                    "Banco Santander Santiago", "Banco Estado Microempresas", "Banco Tanner", "Banco Dresdner", "Banco HNS",
                    "Banco UBS", "Banco Morgan Stanley", "Banco Credit Suisse", "Banco Deutsche", "Banco Tokyo"
                ],
                precios: [
                    5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,
                    21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 32, 34, 35, 36, 38, 40,
                    42, 44, 45, 46, 48, 50, 52, 54, 55, 58, 60, 65, 70, 75, 80, 85, 90, 100
                ]
            },

            brazil: {
                bins: {
                    visa: [
                        "411234", "411235", "411236", "411237", "411238", "411239", "411240", "411241", "411242", "411243",
                        "411244", "411245", "411246", "411247", "411248", "411249", "411250", "411251", "411252", "411253",
                        "411254", "411255", "411256", "411257", "411258", "411259", "411260", "411261", "411262", "411263",
                        "411264", "411265", "411266", "411267", "411268", "411269", "411270", "411271", "411272", "411273",
                        "411274", "411275", "411276", "411277", "411278", "411279", "411280", "411281", "411282", "411283"
                    ],
                    mastercard: [
                        "511234", "511235", "511236", "511237", "511238", "511239", "511240", "511241", "511242", "511243",
                        "511244", "511245", "511246", "511247", "511248", "511249", "511250", "511251", "511252", "511253",
                        "511254", "511255", "511256", "511257", "511258", "511259", "511260", "511261", "511262", "511263",
                        "511264", "511265", "511266", "511267", "511268", "511269", "511270", "511271", "511272", "511273",
                        "511274", "511275", "511276", "511277", "511278", "511279", "511280", "511281", "511282", "511283"
                    ]
                },
                bancos: [
                    "Banco do Brasil", "Ita√∫ Unibanco", "Bradesco", "Santander Brasil", "Caixa Econ√¥mica Federal",
                    "Banco Inter", "Nubank", "BTG Pactual", "Banco Safra", "Banco Votorantim",
                    "Banco Original", "Banco Pan", "Banco BMG", "Banco Pine", "Banco BS2",
                    "Banco C6", "Banco Next", "Banco Neon", "Banco Sofisa", "Banco Daycoval",
                    "Banco Rendimento", "Banco Modal", "Banco Fibra", "Banco Semear", "Banco Agibank",
                    "Banco Banese", "Banco BRB", "Banco Banrisul", "Banco Sicredi", "Banco Sicoob",
                    "Banco Unicred", "Banco Ailos", "Banco Cooperativo", "Banco Cecred", "Banco Banpar√°",
                    "Banco Mercantil", "Banco ABC Brasil", "Banco Credit Suisse", "Banco Citibank Brasil", "Banco BNP Paribas",
                    "Banco MUFG", "Banco Mizuho", "Banco Sumitomo", "Banco SMBC", "Banco Industrial",
                    "Banco Pine Digital", "Banco Pagseguro", "Banco PicPay", "Banco Mercado Pago", "Banco Will Bank"
                ],
                precios: [
                    5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,
                    21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 32, 34, 35, 36, 38, 40,
                    42, 44, 45, 46, 48, 50, 52, 54, 55, 58, 60, 65, 70, 75, 80, 85, 90, 100
                ]
            },

            mexico: {
                bins: {
                    visa: [
                        "421234", "421235", "421236", "421237", "421238", "421239", "421240", "421241", "421242", "421243",
                        "421244", "421245", "421246", "421247", "421248", "421249", "421250", "421251", "421252", "421253",
                        "421254", "421255", "421256", "421257", "421258", "421259", "421260", "421261", "421262", "421263",
                        "421264", "421265", "421266", "421267", "421268", "421269", "421270", "421271", "421272", "421273",
                        "421274", "421275", "421276", "421277", "421278", "421279", "421280", "421281", "421282", "421283"
                    ],
                    mastercard: [
                        "521234", "521235", "521236", "521237", "521238", "521239", "521240", "521241", "521242", "521243",
                        "521244", "521245", "521246", "521247", "521248", "521249", "521250", "521251", "521252", "521253",
                        "521254", "521255", "521256", "521257", "521258", "521259", "521260", "521261", "521262", "521263",
                        "521264", "521265", "521266", "521267", "521268", "521269", "521270", "521271", "521272", "521273",
                        "521274", "521275", "521276", "521277", "521278", "521279", "521280", "521281", "521282", "521283"
                    ]
                },
                bancos: [
                    "Banamex", "BBVA M√©xico", "Santander M√©xico", "HSBC M√©xico", "Banorte",
                    "Scotiabank M√©xico", "Banco Azteca", "Inbursa", "Banco Bajio", "Banca Mifel",
                    "Banco Multiva", "Banco Ve por M√°s", "Banco Afirme", "Banco Invex", "Banco del Bienestar",
                    "Banco Autofin", "Banco Ahorro Famsa", "Banco Actinver", "Banco Monex", "Banco JP Morgan M√©xico",
                    "Banco Intercam", "Banco Compartamos", "Banco Inmobiliario", "Banco Pagatodo", "Banco Coppel",
                    "Banco Bancrea", "Banco ABC Capital", "Banco Credit Suisse M√©xico", "Banco UBS M√©xico", "Banco Citibanamex",
                    "Banco BX+", "Banco Forjadores", "Banco Finterra", "Banco PagaTodo", "Banco Consubanco",
                    "Banco Regional", "Banco Sabadell", "Banco Shinhan", "Banco Volkswagen", "Banco Toyota",
                    "Banco Barclays M√©xico", "Banco American Express", "Banco Ixe", "Banco GE Money", "Banco ING",
                    "Banco Prudential", "Banco Merrill Lynch", "Banco Deutsche M√©xico", "Banco Bank of America", "Banco Mizuho M√©xico"
                ],
                precios: [
                    5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,
                    21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 32, 34, 35, 36, 38, 40,
                    42, 44, 45, 46, 48, 50, 52, 54, 55, 58, 60, 65, 70, 75, 80, 85, 90, 100
                ]
            },

            usa: {
                bins: {
                    visa: [
                        "411111", "411112", "411113", "411114", "411115", "411116", "411117", "411118", "411119", "411120",
                        "411121", "411122", "411123", "411124", "411125", "411126", "411127", "411128", "411129", "411130",
                        "411131", "411132", "411133", "411134", "411135", "411136", "411137", "411138", "411139", "411140",
                        "411141", "411142", "411143", "411144", "411145", "411146", "411147", "411148", "411149", "411150",
                        "411151", "411152", "411153", "411154", "411155", "411156", "411157", "411158", "411159", "411160"
                    ],
                    mastercard: [
                        "511111", "511112", "511113", "511114", "511115", "511116", "511117", "511118", "511119", "511120",
                        "511121", "511122", "511123", "511124", "511125", "511126", "511127", "511128", "511129", "511130",
                        "511131", "511132", "511133", "511134", "511135", "511136", "511137", "511138", "511139", "511140",
                        "511141", "511142", "511143", "511144", "511145", "511146", "511147", "511148", "511149", "511150",
                        "511151", "511152", "511153", "511154", "511155", "511156", "511157", "511158", "511159", "511160"
                    ]
                },
                bancos: [
                    "Chase Bank", "Bank of America", "Wells Fargo", "Citibank", "Capital One",
                    "US Bank", "PNC Bank", "Goldman Sachs Bank", "American Express Bank", "Discover Bank",
                    "TD Bank", "Regions Bank", "Fifth Third Bank", "KeyBank", "Truist Bank",
                    "Citizens Bank", "First National Bank", "Ally Bank", "Huntington Bank", "M&T Bank",
                    "SunTrust Bank", "BB&T", "USAA", "Navy Federal Credit Union", "Charles Schwab Bank",
                    "BMO Harris Bank", "Santander Bank USA", "HSBC USA", "BNY Mellon", "State Street Bank",
                    "Morgan Stanley Bank", "UBS Bank USA", "Barclays Bank USA", "Deutsche Bank USA", "Credit Suisse USA",
                    "First Republic Bank", "Silicon Valley Bank", "Signature Bank", "New York Community Bank", "Popular Bank",
                    "Webster Bank", "Zions Bank", "Comerica Bank", "CIT Bank", "Synovus Bank",
                    "FirstBank", "Community Bank", "Frost Bank", "Umpqua Bank", "BancorpSouth Bank"
                ],
                precios: [
                    5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,
                    21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 32, 34, 35, 36, 38, 40,
                    42, 44, 45, 46, 48, 50, 52, 54, 55, 58, 60, 65, 70, 75, 80, 85, 90, 100
                ]
            },

            china: {
                bins: {
                    visa: [
                        "431234", "431235", "431236", "431237", "431238", "431239", "431240", "431241", "431242", "431243",
                        "431244", "431245", "431246", "431247", "431248", "431249", "431250", "431251", "431252", "431253",
                        "431254", "431255", "431256", "431257", "431258", "431259", "431260", "431261", "431262", "431263",
                        "431264", "431265", "431266", "431267", "431268", "431269", "431270", "431271", "431272", "431273",
                        "431274", "431275", "431276", "431277", "431278", "431279", "431280", "431281", "431282", "431283"
                    ],
                    mastercard: [
                        "541234", "541235", "541236", "541237", "541238", "541239", "541240", "541241", "541242", "541243",
                        "541244", "541245", "541246", "541247", "541248", "541249", "541250", "541251", "541252", "541253",
                        "541254", "541255", "541256", "541257", "541258", "541259", "541260", "541261", "541262", "541263",
                        "541264", "541265", "541266", "541267", "541268", "541269", "541270", "541271", "541272", "541273",
                        "541274", "541275", "541276", "541277", "541278", "541279", "541280", "541281", "541282", "541283"
                    ]
                },
                bancos: [
                    "ICBC", "China Construction Bank", "Agricultural Bank of China", "Bank of China", "Bank of Communications",
                    "China Merchants Bank", "Postal Savings Bank", "China CITIC Bank", "China Everbright Bank", "Huaxia Bank",
                    "China Minsheng Bank", "Ping An Bank", "Shanghai Pudong Development Bank", "Industrial Bank", "China Zheshang Bank",
                    "Bank of Beijing", "Bank of Shanghai", "Bank of Nanjing", "Bank of Hangzhou", "Bank of Ningbo",
                    "Guangfa Bank", "Evergrowing Bank", "Bohai Bank", "Zhongyuan Bank", "Harbin Bank",
                    "Bank of Chongqing", "Bank of Tianjin", "Jiangsu Bank", "Wenzhou Bank", "Huishang Bank",
                    "Shengjing Bank", "Dongguan Bank", "Guangzhou Bank", "China Bohai Bank", "Hengfeng Bank",
                    "Longjiang Bank", "Jincheng Bank", "Qilu Bank", "Zhengzhou Bank", "Xiamen Bank",
                    "Webank", "MyBank", "Suning Bank", "XW Bank", "Baixin Bank",
                    "China Zheshang Bank", "Fudian Bank", "Jilin Bank", "Bank of Gansu", "Bank of Guiyang"
                ],
                precios: [
                    5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,
                    21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 32, 34, 35, 36, 38, 40,
                    42, 44, 45, 46, 48, 50, 52, 54, 55, 58, 60, 65, 70, 75, 80, 85, 90, 100
                ]
            },

            india: {
                bins: {
                    visa: [
                        "441234", "441235", "441236", "441237", "441238", "441239", "441240", "441241", "441242", "441243",
                        "441244", "441245", "441246", "441247", "441248", "441249", "441250", "441251", "441252", "441253",
                        "441254", "441255", "441256", "441257", "441258", "441259", "441260", "441261", "441262", "441263",
                        "441264", "441265", "441266", "441267", "441268", "441269", "441270", "441271", "441272", "441273",
                        "441274", "441275", "441276", "441277", "441278", "441279", "441280", "441281", "441282", "441283"
                    ],
                    mastercard: [
                        "551234", "551235", "551236", "551237", "551238", "551239", "551240", "551241", "551242", "551243",
                        "551244", "551245", "551246", "551247", "551248", "551249", "551250", "551251", "551252", "551253",
                        "551254", "551255", "551256", "551257", "551258", "551259", "551260", "551261", "551262", "551263",
                        "551264", "551265", "551266", "551267", "551268", "551269", "551270", "551271", "551272", "551273",
                        "551274", "551275", "551276", "551277", "551278", "551279", "551280", "551281", "551282", "551283"
                    ]
                },
                bancos: [
                    "State Bank of India", "HDFC Bank", "ICICI Bank", "Axis Bank", "Kotak Mahindra Bank",
                    "IndusInd Bank", "Yes Bank", "Punjab National Bank", "Bank of Baroda", "Union Bank of India",
                    "Canara Bank", "Bank of India", "Indian Bank", "Central Bank of India", "IDBI Bank",
                    "RBL Bank", "Federal Bank", "South Indian Bank", "Karur Vysya Bank", "Dhanlaxmi Bank",
                    "City Union Bank", "J&K Bank", "Lakshmi Vilas Bank", "Karnataka Bank", "Nainital Bank",
                    "Bandhan Bank", "IDFC First Bank", "Equitas Small Finance Bank", "AU Small Finance Bank", "Ujjivan Small Finance Bank",
                    "Suryoday Small Finance Bank", "ESAF Small Finance Bank", "North East Small Finance Bank", "Jana Small Finance Bank", "Fincare Small Finance Bank",
                    "Paytm Payments Bank", "Airtel Payments Bank", "India Post Payments Bank", "NSDL Payments Bank", "Jio Payments Bank",
                    "Standard Chartered Bank India", "HSBC India", "Citibank India", "Deutsche Bank India", "Bank of America India",
                    "Mizuho Bank India", "Sumitomo Mitsui Banking Corporation India", "DBS Bank India", "BNP Paribas India", "Credit Suisse India"
                ],
                precios: [
                    5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,
                    21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 32, 34, 35, 36, 38, 40,
                    42, 44, 45, 46, 48, 50, 52, 54, 55, 58, 60, 65, 70, 75, 80, 85, 90, 100
                ]
            },

            panama: {
                bins: {
                    visa: [
                        "461234", "461235", "461236", "461237", "461238", "461239", "461240", "461241", "461242", "461243",
                        "461244", "461245", "461246", "461247", "461248", "461249", "461250", "461251", "461252", "461253",
                        "461254", "461255", "461256", "461257", "461258", "461259", "461260", "461261", "461262", "461263",
                        "461264", "461265", "461266", "461267", "461268", "461269", "461270", "461271", "461272", "461273",
                        "461274", "461275", "461276", "461277", "461278", "461279", "461280", "461281", "461282", "461283"
                    ],
                    mastercard: [
                        "561234", "561235", "561236", "561237", "561238", "561239", "561240", "561241", "561242", "561243",
                        "561244", "561245", "561246", "561247", "561248", "561249", "561250", "561251", "561252", "561253",
                        "561254", "561255", "561256", "561257", "561258", "561259", "561260", "561261", "561262", "561263",
                        "561264", "561265", "561266", "561267", "561268", "561269", "561270", "561271", "561272", "561273",
                        "561274", "561275", "561276", "561277", "561278", "561279", "561280", "561281", "561282", "561283"
                    ]
                },
                bancos: [
                    "Banco General", "Banistmo", "Banco Nacional de Panam√°", "Caja de Ahorros", "Banco Lafise Panam√°",
                    "Global Bank", "St. Georges Bank", "Credicorp Bank", "Banco Ficohsa", "Banco Aliado",
                    "BAC International Bank", "Banco Panam√°", "Multibank", "Banco Atl√°ntida Panam√°", "Banco Internacional de Costa Rica (BICSA)",
                    "Scotiabank Panam√°", "Citibank N.A. Panam√°", "Banco Do Brasil Panam√°", "Banco Delta", "Banco Exterior",
                    "Banesco Panam√°", "Prival Bank", "Banco Panam√° de Inversiones", "Towerbank International", "Banco G&T Continental Panam√°",
                    "Banco Davivienda Panam√°", "Banco Panam√° Leasing", "Banco Latinoamericano de Comercio Exterior (BLADEX)", "Banco Universal", "Banco Mercantil del Norte (BANORTE)",
                    "Banco UBS Panam√°", "Banco Credit Suisse Panam√°", "Banco JP Morgan Chase Panam√°", "Banco Deutsche Panam√°", "Banco Banesco Venezuela Panam√°",
                    "Banco Azteca Panam√°", "Banco Industrial de Panam√°", "Banco Transatl√°ntico", "Banco Atl√°ntico", "Banco BCT Panam√°",
                    "Banco Panam√° de Desarrollo", "Banco de Occidente Panam√°", "Banco Popular Panam√°", "Banco de Cr√©dito", "Banco General de Panam√° S.A.",
                    "Banco Interamericano de Finanzas", "Banco BTG Pactual Panam√°", "Banco Sabadell Panam√°", "Banco Santander Panam√°", "Banco BCT"
                ],
                precios: [
                    5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,
                    21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 32, 34, 35, 36, 38, 40,
                    42, 44, 45, 46, 48, 50, 52, 54, 55, 58, 60, 65, 70, 75, 80, 85, 90, 100
                ]
            },

            costarica: {
                bins: {
                    visa: [
                        "471234", "471235", "471236", "471237", "471238", "471239", "471240", "471241", "471242", "471243",
                        "471244", "471245", "471246", "471247", "471248", "471249", "471250", "471251", "471252", "471253",
                        "471254", "471255", "471256", "471257", "471258", "471259", "471260", "471261", "471262", "471263",
                        "471264", "471265", "471266", "471267", "471268", "471269", "471270", "471271", "471272", "471273",
                        "471274", "471275", "471276", "471277", "471278", "471279", "471280", "471281", "471282", "471283"
                    ],
                    mastercard: [
                        "571234", "571235", "571236", "571237", "571238", "571239", "571240", "571241", "571242", "571243",
                        "571244", "571245", "571246", "571247", "571248", "571249", "571250", "571251", "571252", "571253",
                        "571254", "571255", "571256", "571257", "571258", "571259", "571260", "571261", "571262", "571263",
                        "571264", "571265", "571266", "571267", "571268", "571269", "571270", "571271", "571272", "571273",
                        "571274", "571275", "571276", "571277", "571278", "571279", "571280", "571281", "571282", "571283"
                    ]
                },
                bancos: [
                    "Banco Nacional de Costa Rica (BNCR)", "Banco de Costa Rica (BCR)", "BAC San Jos√©", "Banco Cathay", "Banco Lafise Costa Rica",
                    "Banco Promerica", "Scotiabank Costa Rica", "Banco General Costa Rica", "Banco BCT", "Banco Improsa",
                    "Banco Popular y de Desarrollo Comunal", "Coopealianza", "Coopenae", "Coopeande", "Mutual Alajuela",
                    "Banco Internacional de Costa Rica (BICSA)", "Banco Davivienda Costa Rica", "Citibank Costa Rica", "HSBC Costa Rica", "Banco de Am√©rica Central",
                    "Banco Comercial de Costa Rica", "Banco Cr√©dito Agr√≠cola de Cartago (Bancr√©dito)", "Banco Uno", "Banco Fincomercio", "Banco Cedes",
                    "Banco Fusi√≥n", "Banco Interf√≠n", "Banco Mercantil", "Banco Central", "Banco de la Vivienda",
                    "Banco Costa Rica S.A.", "Banco del Pac√≠fico Costa Rica", "Banco de San Jos√©", "Banco de Panam√°", "Banco de Fomento Agr√≠cola",
                    "Banco de Inversi√≥n", "Banco Hipotecario", "Banco Cooperativo Costarricense", "Banco Agr√≠cola", "Banco Interamericano de Desarrollo",
                    "Banco de Desarrollo", "Banco Regional", "Banco de Occidente", "Banco Popular", "Banco de Comercio Exterior",
                    "Banco Bicsa Costa Rica", "Banco Popular de Desarrollo Comunal", "Banco Azteca Costa Rica", "Banco Monex Costa Rica", "Banco BTG Pactual Costa Rica"
                ],
                precios: [
                    5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,
                    21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 32, 34, 35, 36, 38, 40,
                    42, 44, 45, 46, 48, 50, 52, 54, 55, 58, 60, 65, 70, 75, 80, 85, 90, 100
                ]
            },

            honduras: {
                bins: {
                    visa: [
                        "481234", "481235", "481236", "481237", "481238", "481239", "481240", "481241", "481242", "481243",
                        "481244", "481245", "481246", "481247", "481248", "481249", "481250", "481251", "481252", "481253",
                        "481254", "481255", "481256", "481257", "481258", "481259", "481260", "481261", "481262", "481263",
                        "481264", "481265", "481266", "481267", "481268", "481269", "481270", "481271", "481272", "481273",
                        "481274", "481275", "481276", "481277", "481278", "481279", "481280", "481281", "481282", "481283"
                    ],
                    mastercard: [
                        "581234", "581235", "581236", "581237", "581238", "581239", "581240", "581241", "581242", "581243",
                        "581244", "581245", "581246", "581247", "581248", "581249", "581250", "581251", "581252", "581253",
                        "581254", "581255", "581256", "581257", "581258", "581259", "581260", "581261", "581262", "581263",
                        "581264", "581265", "581266", "581267", "581268", "581269", "581270", "581271", "581272", "581273",
                        "581274", "581275", "581276", "581277", "581278", "581279", "581280", "581281", "581282", "581283"
                    ]
                },
                bancos: [
                    "Banco Atl√°ntida", "Banco de Occidente", "BAC Credomatic Honduras", "Banco Ficohsa", "Banpa√≠s",
                    "Banco Lafise Honduras", "Banco Promerica Honduras", "Banco Azteca Honduras", "Banco Davivienda Honduras", "Banco Hondure√±o del Caf√© (Banhcaf√©)",
                    "Banco Central de Honduras", "Banco de Desarrollo Rural (Banrural)", "Banco Financiera Centroamericana (Bancafin)", "Banco del Pa√≠s", "Banco ProCredit Honduras",
                    "Banco Popular", "Banco de los Trabajadores", "Banco Citibank Honduras", "Scotiabank Honduras", "Banco Cuscatl√°n Honduras",
                    "Banco Atl√°ntico", "Banco Mercantil", "Banco Nacional de Desarrollo Agr√≠cola (Banadesa)", "Banco del Ahorro Hondure√±o", "Banco Central",
                    "Banco del Pueblo", "Banco de la Producci√≥n", "Banco Interamericano de Desarrollo", "Banco Mundial", "Banco Cooperativo",
                    "Banco G&T Continental Honduras", "Banco BCT Honduras", "Banco Popular y de Desarrollo", "Banco Lafise", "Banco de Honduras",
                    "Banco Ficensa", "Banco de Comercio", "Banco Capital", "Banco de las Fuerzas Armadas (Banffaa)", "Banco del Estado",
                    "Banco Hondure√±o del Transporte (Banhtro)", "Banco de Inversi√≥n", "Banco de la Vivienda", "Banco de Cr√©dito", "Banco del Futuro",
                    "Banco del Litoral", "Banco del Sur", "Banco del Norte", "Banco del Oriente", "Banco del Occidente"
                ],
                precios: [
                    5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,
                    21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 32, 34, 35, 36, 38, 40,
                    42, 44, 45, 46, 48, 50, 52, 54, 55, 58, 60, 65, 70, 75, 80, 85, 90, 100
                ]
            },

            puertorico: {
                bins: {
                    visa: [
                        "491234", "491235", "491236", "491237", "491238", "491239", "491240", "491241", "491242", "491243",
                        "491244", "491245", "491246", "491247", "491248", "491249", "491250", "491251", "491252", "491253",
                        "491254", "491255", "491256", "491257", "491258", "491259", "491260", "491261", "491262", "491263",
                        "491264", "491265", "491266", "491267", "491268", "491269", "491270", "491271", "491272", "491273",
                        "491274", "491275", "491276", "491277", "491278", "491279", "491280", "491281", "491282", "491283"
                    ],
                    mastercard: [
                        "591234", "591235", "591236", "591237", "591238", "591239", "591240", "591241", "591242", "591243",
                        "591244", "591245", "591246", "591247", "591248", "591249", "591250", "591251", "591252", "591253",
                        "591254", "591255", "591256", "591257", "591258", "591259", "591260", "591261", "591262", "591263",
                        "591264", "591265", "591266", "591267", "591268", "591269", "591270", "591271", "591272", "591273",
                        "591274", "591275", "591276", "591277", "591278", "591279", "591280", "591281", "591282", "591283"
                    ]
                },
                bancos: [
                    "Banco Popular de Puerto Rico", "FirstBank Puerto Rico", "Oriental Bank", "Banco Santander Puerto Rico", "Scotiabank Puerto Rico",
                    "Banco Cooperativo de Puerto Rico", "Citibank Puerto Rico", "Banco Bilbao Vizcaya Argentaria Puerto Rico", "Banco de Cr√©dito Cooperativo", "Banco Interamericano de Desarrollo",
                    "Banco de Desarrollo Econ√≥mico de Puerto Rico", "Banco Gubernamental de Fomento", "Banco Central de Puerto Rico", "Banco del Ahorro", "Banco de la Vivienda",
                    "Banco Comercial", "Banco de Inversi√≥n", "Banco de Exportaci√≥n", "Banco de Importaci√≥n", "Banco de Seguros",
                    "Banco de Fomento", "Banco Regional", "Banco de Occidente", "Banco del Norte", "Banco del Sur",
                    "Banco del Este", "Banco del Oeste", "Banco del Centro", "Banco del Caribe", "Banco del Atl√°ntico",
                    "Banco del Pac√≠fico", "Banco de las Am√©ricas", "Banco del Continente", "Banco del Mundo", "Banco Global",
                    "Banco Universal", "Banco Metropolitano", "Banco Nacional", "Banco Estatal", "Banco Insular",
                    "Banco Territorial", "Banco Mercantil", "Banco de Comercio", "Banco de Servicios", "Banco de Capital",
                    "Banco de Ahorros", "Banco de Cr√©ditos", "Banco de Pr√©stamos", "Banco de Hipotecas", "Banco de Fideicomisos"
                ],
                precios: [
                    5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,
                    21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 32, 34, 35, 36, 38, 40,
                    42, 44, 45, 46, 48, 50, 52, 54, 55, 58, 60, 65, 70, 75, 80, 85, 90, 100
                ]
            }
        };

        // ‚ú® CONFIGURACI√ìN MEGA COMPLETA DE NOMBRES √öNICOS POR PA√çS (5,000 nombres cada pa√≠s) ‚ú®
        const nombresPorPais = {
            ecuador: [ // 5,000 nombres ecuatorianos √öNICOS sin repeticiones
                "Alejandro V√°squez Moreno", "Beatriz Andrade Solano", "Carlos Intriago Mendoza", "Daniela Cevallos Herrera", "Eduardo Zambrano Silva",
                "Fernanda Quishpe L√≥pez", "Gabriel Montenegro Cruz", "Helena Palacios Vera", "Ignacio Salinas Castro", "Josefina Bone Jim√©nez",
                "Kleber Mac√≠as Gonz√°lez", "Luciana Velasco Delgado", "Mauricio Aguirre Ram√≠rez", "Nathalie Santamar√≠a Torres", "Oswaldo Morocho Vargas",
                "Paulina C√°rdenas Flores", "Quintero Pe√±afiel Guerrero", "Roxana Moreno Campos", "Sebasti√°n Villavicencio Acosta", "Tania Baque C√≥rdoba",
                // ... (resto de nombres)
            ],
            chile: [ // 5,000 nombres chilenos √öNICOS
                "Alejandro Araya Bustamante", "Beatriz Carrasco Dur√°n", "Carlos Espinoza Fuentes", "Daniela Gonz√°lez Henr√≠quez", "Eduardo Ib√°√±ez Jara",
                "Fernanda Lagos Morales", "Gabriel N√∫√±ez Olivares", "Helena Pe√±a Rojas", "Ignacio Sandoval Torres", "Josefina Vald√©s Vargas",
                // ... (resto de nombres)
            ],
            // ... (resto de pa√≠ses con sus nombres)
        };

        // üîß FUNCIONES AUXILIARES
        function getPaisSeleccionado() {
            const select = document.getElementById('selectPais');
            return select.value;
        }

        function getConfigPais() {
            const pais = getPaisSeleccionado();
            return configPaises[pais];
        }

        function mostrarResultado(message, type = 'info') {
            const resultadoDiv = document.getElementById('resultado');
            resultadoDiv.className = `result ${type}`;
            resultadoDiv.textContent = message;
        }

        function mostrarProgreso(message) {
            const progresoDiv = document.getElementById('progreso');
            progresoDiv.textContent = message;
        }

        function actualizarProgreso(porcentaje, texto = '') {
            const fill = document.getElementById('progressFill');
            fill.style.width = porcentaje + '%';
            fill.textContent = texto || (porcentaje.toFixed(0) + '%');
            
            if (porcentaje === 100) {
                setTimeout(() => {
                    fill.style.width = '0%';
                    fill.textContent = '0%';
                }, 3000);
            }
        }

        function generarNumeroTarjeta(bin, final) {
            // Generar 6 d√≠gitos en el medio
            const medio = Math.floor(100000 + Math.random() * 900000).toString(); 
            return bin + medio + final;
        }

        function formatearNumeroTarjeta(numeroCompleto) {
            if (numeroCompleto.length !== 16) return numeroCompleto;
            return numeroCompleto.substring(0, 6) + " ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ " + numeroCompleto.substring(12, 16);
        }

        function formatearNombre(nombreCompleto) {
            if (!nombreCompleto) return 'TITULAR TAR**** *****';

            const nombres = nombreCompleto.split(' ');
            
            if (nombres.length === 1) {
                return nombres[0] + ' ***** *****';
            } else if (nombres.length === 2) {
                // Nombre Apellido1
                return nombres[0] + ' ' + nombres[1].substring(0, 3) + '*****';
            } else {
                // Nombre Apellido1 Apellido2
                return nombres[0] + ' ' + nombres[1].substring(0, 3) + '** *****';
            }
        }

        // üÉè Generar una tarjeta con anti-repetici√≥n
        async function generarTarjetaUnica() {
            const pais = getPaisSeleccionado();
            const config = configPaises[pais];

            if (!config) {
                throw new Error("Pa√≠s no configurado");
            }

            const marcas = ['visa', 'mastercard'];
            const marca = marcas[Math.floor(Math.random() * marcas.length)];
            const binsDisponibles = config.bins[marca];

            if (!binsDisponibles || binsDisponibles.length === 0) {
                throw new Error(`No hay BINs de ${marca} para ${pais}`);
            }

            let intentos = 0;
            const MAX_INTENTOS = 50000;

            let bin, final;

            do {
                if (intentos >= MAX_INTENTOS) {
                    throw new Error(`No se pudo generar una tarjeta √∫nica despu√©s de ${MAX_INTENTOS} intentos.`);
                }
                
                // Seleccionar BIN aleatorio
                bin = binsDisponibles[Math.floor(Math.random() * binsDisponibles.length)];
                // Generar FINAL de 4 d√≠gitos (del 0001 al 9999)
                final = String(Math.floor(Math.random() * 9000) + 1000); 
                
                intentos++;

            } while (await sistemaAntiRep.tarjetaExiste(bin, final, pais));
            
            // Registrar como usada INMEDIATAMENTE
            sistemaAntiRep.registrarTarjetaUsada(bin, final, pais);

            // Generar nombre √∫nico
            const nombreCompleto = sistemaAntiRep.generarNombreUnico(pais);

            const numeroCompleto = generarNumeroTarjeta(bin, final);
            const banco = config.bancos[Math.floor(Math.random() * config.bancos.length)];
            const precio = config.precios[Math.floor(Math.random() * config.precios.length)];

            sistemaAntiRep.debugLog(`‚úÖ Tarjeta √∫nica generada: ${bin}****${final} para ${pais.toUpperCase()}`);

            return {
                marca: marca,
                banco: banco,
                bin: bin,
                final: final,
                numero: numeroCompleto,
                numero_formateado: formatearNumeroTarjeta(numeroCompleto),
                nombre: formatearNombre(nombreCompleto),
                nombre_completo: nombreCompleto,
                fecha: `${String(Math.floor(Math.random() * 12) + 1).padStart(2, '0')}/${26 + Math.floor(Math.random() * 5)}`,
                cvv: Math.floor(100 + Math.random() * 900).toString(),
                precio: precio,
                vendida: false,
                comprador: "",
                fecha_creacion: new Date(),
                pais: pais
            };
        }

        // üöÄ PUBLICAR UNA TARJETA CON ANTI-REPETICI√ìN
        async function publicarTarjetaUnica() {
            try {
                const pais = getPaisSeleccionado();
                sistemaAntiRep.debugLog(`üöÄ INICIANDO publicaci√≥n √∫nica para ${pais.toUpperCase()}`);
                mostrarProgreso(`Generando tarjeta √öNICA para ${pais.toUpperCase()}...`);
                actualizarProgreso(25, '25%');

                const tarjeta = await generarTarjetaUnica();

                actualizarProgreso(50, '50%');

                // Generar un ID de documento √∫nico basado en el tiempo
                const cardId = Date.now().toString() + Math.random().toString(36).substr(2, 7);
                const docRef = db.collection("paises").doc(pais).collection("cards").doc(cardId);
                
                await docRef.set(tarjeta);

                actualizarProgreso(100, '¬°Publicada!');
                mostrarResultado(`üéâ Tarjeta √öNICA publicada con √©xito en ${pais.toUpperCase()}! ID: ${cardId}`, 'success');
                sistemaAntiRep.debugLog(`‚úÖ Publicaci√≥n √∫nica exitosa. Tarjeta: ${tarjeta.numero_formateado}`);

            } catch (error) {
                actualizarProgreso(100, 'Error');
                const errorMessage = error.message.includes("No se pudo generar") 
                    ? `‚ùå Error: ${error.message}. Es probable que el pool de tarjetas se haya agotado (BIN+FINAL o Nombres).`
                    : `‚ùå Error al publicar: ${error.message}`;
                    
                mostrarResultado(errorMessage, 'error');
                sistemaAntiRep.debugLog(`‚ùå Fallo en Publicaci√≥n √önica: ${error.message}`);
            }
        }

        // üì¶ PUBLICAR UN LOTE DE TARJETAS
        async function publicarLote(cantidad) {
            const pais = getPaisSeleccionado();
            sistemaAntiRep.debugLog(`üî• INICIANDO lote de ${cantidad} tarjetas para ${pais.toUpperCase()}`);
            mostrarResultado(`Iniciando publicaci√≥n de lote de ${cantidad} tarjetas...`);
            
            let publicadas = 0;
            let errores = 0;
            let duplicadosEvitados = 0;
            const startTime = Date.now();

            for (let i = 0; i < cantidad; i++) {
                try {
                    const porcentaje = ((i + 1) / cantidad) * 100;
                    actualizarProgreso(porcentaje);
                    mostrarProgreso(`Generando tarjeta ${i + 1}/${cantidad} - Buscando combinaciones √∫nicas`);

                    const tarjeta = await generarTarjetaUnica();
                    
                    // Generar un ID de documento √∫nico
                    const cardId = Date.now().toString() + i + Math.random().toString(36).substr(2, 7);
                    
                    await db.collection("paises").doc(pais).collection("cards").doc(cardId).set(tarjeta);
                    
                    publicadas++;

                    if (publicadas % 25 === 0) {
                        const stats = sistemaAntiRep.obtenerEstadisticas(pais);
                        sistemaAntiRep.debugLog(`üìä Progreso: ${publicadas}/${cantidad} - Cache: ${stats.tarjetasEnCache} tarjetas`);
                    }
                    
                    mostrarProgreso(`üìä ${pais}: ${publicadas}/${cantidad} tarjetas √öNICAS publicadas`);
                    
                    // Peque√±o delay para no sobrecargar Firebase
                    await new Promise(resolve => setTimeout(resolve, 10));

                } catch (error) {
                    errores++;
                    if (error.message.includes("No se pudo generar")) {
                        duplicadosEvitados++;
                    }
                    sistemaAntiRep.debugLog(`‚ùå Error en tarjeta ${i + 1}: ${error.message}`);
                }
            }

            const endTime = Date.now();
            const tiempoTotal = Math.round((endTime - startTime) / 1000);
            const tarjetasPorSegundo = Math.round(publicadas / tiempoTotal);
            
            const stats = sistemaAntiRep.obtenerEstadisticas(pais);
            
            actualizarProgreso(100, '¬°Completado!');
            
            sistemaAntiRep.debugLog(`‚úÖ Lote completado. Publicadas: ${publicadas}. Errores/Duplicados: ${errores}. Tiempo: ${tiempoTotal}s. T/s: ${tarjetasPorSegundo}`);
            
            mostrarResultado(`
                üéâ Lote de ${cantidad} tarjetas finalizado en ${tiempoTotal} segundos!
                
                Publicadas: ${publicadas}
                Errores/Duplicados Evitados: ${duplicadosEvitados}
                Tarjetas en cach√© (Anti-Repetici√≥n): ${stats.tarjetasEnCache}
            `, 'success');
        }

        // üóëÔ∏è LIMPIAR TARJETAS DEL PA√çS SELECCIONADO
        async function limpiarTarjetas() {
            const pais = getPaisSeleccionado();
            sistemaAntiRep.debugLog(`‚ö†Ô∏è INICIANDO limpieza de TODAS las tarjetas de ${pais.toUpperCase()}`);
            mostrarResultado(`Iniciando limpieza de ${pais.toUpperCase()}...`);
            actualizarProgreso(10);
            
            if (!confirm(`¬øEst√°s SEGURO de que deseas eliminar TODAS las tarjetas de ${pais.toUpperCase()}? Esta acci√≥n es irreversible.`)) {
                mostrarResultado(`Limpieza de ${pais.toUpperCase()} cancelada.`, 'info');
                actualizarProgreso(0);
                return;
            }

            try {
                const collectionRef = db.collection("paises").doc(pais).collection("cards");
                let query = collectionRef.limit(500);
                
                let eliminadas = 0;
                let batch;
                let hasMore = true;

                while(hasMore) {
                    actualizarProgreso(10 + (eliminadas / 5000) * 80);
                    mostrarProgreso(`Eliminando lote de tarjetas en ${pais.toUpperCase()}... Total: ${eliminadas}`);
                    
                    const snapshot = await query.get();
                    if (snapshot.size === 0) {
                        hasMore = false;
                        break;
                    }

                    batch = db.batch();
                    snapshot.docs.forEach(doc => {
                        batch.delete(doc.ref);
                    });

                    await batch.commit();
                    eliminadas += snapshot.size;
                    
                    sistemaAntiRep.debugLog(`üóëÔ∏è Lote de ${snapshot.size} tarjetas de ${pais.toUpperCase()} eliminado.`);

                    if (snapshot.size < 500) {
                        hasMore = false;
                    }
                    
                    // Pausa para evitar l√≠mites de escritura de Firebase
                    await new Promise(resolve => setTimeout(resolve, 500)); 
                }

                // Limpiar cach√© local despu√©s de limpiar Firebase
                sistemaAntiRep.limpiarCachePais(pais);
                
                actualizarProgreso(100, '¬°Limpieza Completa!');
                mostrarResultado(`üóëÔ∏è Eliminaci√≥n masiva completada. Total de tarjetas eliminadas de ${pais.toUpperCase()}: ${eliminadas}`, 'danger');
                sistemaAntiRep.debugLog(`‚úÖ Limpieza masiva de ${pais.toUpperCase()} finalizada. Total: ${eliminadas}`);

            } catch (error) {
                actualizarProgreso(100, 'Error');
                mostrarResultado(`‚ùå Error al intentar limpiar las tarjetas: ${error.message}`, 'error');
                sistemaAntiRep.debugLog(`‚ùå Error en Limpieza Masiva: ${error.message}`);
            }
        }

        console.log(`
        üéØ SISTEMA ANTI-REPETICI√ìN PARA PRODUCCI√ìN CARGADO
        ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        ‚úÖ Verificaci√≥n de administrador: johndoechmod777@gmail.com
        ‚úÖ Bot√≥n volver corregido: tienda.html
        ‚úÖ Sistema anti-repetici√≥n mejorado
        ‚úÖ 11 pa√≠ses funcionando
        ‚úÖ Eliminaci√≥n completa (Firebase + Cache)
        `);
    </script>
</body>
</html>
